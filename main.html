<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="icon" href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQUNcqSEzazM9S6NwrwIU6UM18w7ZBi9ND74w&s">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root{--glow:#9370db;--mid:#2c0a47;--active:#9370db}
        *{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif}
        body{background:linear-gradient(135deg,#1a0a2e,#2c0a47,#1a0a2e);color:#fff;overflow-x:hidden;position:relative}
        body::before{content:'';position:absolute;inset:0;background:radial-gradient(circle at 10% 20%,rgba(101,45,147,.15),transparent 30%),radial-gradient(circle at 90% 80%,rgba(101,45,147,.15),transparent 30%);pointer-events:none}
        body::after{content:"";position:fixed;inset:0;background-image:radial-gradient(1px 1px at 10% 20%,#fff 50%,transparent 50%),radial-gradient(1px 1px at 20% 40%,#fff 50%,transparent 50%),radial-gradient(1px 1px at 35% 70%,#fff 50%,transparent 50%),radial-gradient(1px 1px at 50% 20%,#fff 50%,transparent 50%),radial-gradient(1px 1px at 70% 90%,#fff 50%,transparent 50%),radial-gradient(1px 1px at 90% 50%,#fff 50%,transparent 50%);background-size:15% 15%;animation:tw 8s ease-in-out infinite;opacity:.6}
        @keyframes tw{0%,100%{opacity:.4}50%{opacity:.8}}
        .shooting-star{position:fixed;height:1px;background:linear-gradient(90deg,transparent,#fff,transparent);filter:drop-shadow(0 0 4px #fff);pointer-events:none;opacity:0}
        @keyframes shoot{0%{opacity:0;width:0}10%{opacity:1;width:4px}100%{opacity:0;width:80px}}
        #openSettings{position:fixed;top:10px;left:10px;padding:8px 14px;border-radius:20px;border:1px solid rgba(147,112,219,.5);background:#2c0a4730;cursor:pointer;z-index:1000;font-weight:700;font-size:.9rem}
        .modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.92);z-index:2000;justify-content:center;align-items:center}
        .modal-content{max-width:90%;width:420px;border-radius:14px;overflow:hidden;border:2px solid rgba(147,112,219,.6);box-shadow:0 0 30px rgba(147,112,219,.6)}
        .modal-header{display:flex}
        .tab-button{flex:1;padding:12px;font-size:1rem;cursor:pointer;border:none;color:#fff;font-weight:600;position:relative}
        .tab-button::after{content:'';position:absolute;bottom:0;left:50%;width:0;height:3px;background:var(--active);transition:.3s;transform:translateX(-50%)}
        .tab-button.active::after{width:70%}
        .tab-content{display:none;padding:20px;max-height:65vh;overflow-y:auto}
        .tab-content.active{display:block}
        .close-modal{position:absolute;top:8px;right:12px;font-size:2rem;cursor:pointer}
        .gradient-controls{padding:15px}
        .gradient-presets{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-bottom:15px}
        .gradient-preset{height:50px;border-radius:10px;cursor:pointer;border:3px solid transparent;transition:.3s}
        .gradient-preset.active{border-color:#fff}
        .color-input{width:100%;height:45px;border-radius:10px;cursor:pointer}
        .gradient-btn{padding:10px 16px;margin:8px 4px;border-radius:20px;border:1px solid rgba(147,112,219,.6);background:#2c0a4750;cursor:pointer;font-weight:600;transition:.3s}
        .settings-box{background:rgba(50,25,70,.7);padding:15px;margin-top:15px;border-radius:12px;border:1px solid rgba(147,112,219,.5)}
        .container{max-width:1100px;margin:auto;padding:15px;display:flex;flex-direction:column;min-height:100vh;z-index:2}
        header{text-align:center;padding:30px 0 20px}
        h1#mainTitle{font-size:3rem;font-weight:900;text-shadow:0 0 20px var(--glow),0 0 40px var(--glow)}
        .subtitle{font-size:1.1rem;opacity:.9;margin-top:12px}
        .section{border-radius:14px;overflow:hidden;margin-bottom:20px;border:1px solid rgba(147,112,219,.4);box-shadow:0 10px 30px rgba(0,0,0,.5)}
        .section-header{padding:14px;font-size:1.4rem;font-weight:700;text-align:center;border-bottom:2px solid rgba(147,112,219,.5)}
        .games-grid{padding:20px;display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:16px}
        .game-card{border-radius:12px;padding:16px;cursor:pointer;transition:.4s;border:1px solid rgba(147,112,219,.4);text-align:center;position:relative;overflow:hidden}
        .game-card:hover{transform:scale(1.05);box-shadow:0 15px 40px rgba(147,112,219,.6)}
        .game-icon{width:80px;height:80px;object-fit:contain;border-radius:12px;border:3px solid rgba(255,255,255,.3);transition:.4s}
        .game-card:hover .game-icon{border-color:var(--glow);box-shadow:0 0 20px var(--glow)}
        .game-title{font-size:1.2rem;margin:10px 0;font-weight:700}
        .game-desc{font-size:.9rem;opacity:.9;line-height:1.4}
        footer{padding:20px;text-align:center;font-size:.9rem;border-top:1px solid rgba(147,112,219,.4);margin-top:auto}
        @media(max-width:768px){
            h1#mainTitle{font-size:2.4rem}
            .games-grid{grid-template-columns:1fr}
        }
    </style>
</head>
<body>
    <button id="openSettings">⚙️ Settings</button>

    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">×</span>
            <div class="modal-header">
                <button class="tab-button active" data-tab="settings">Settings</button>
                <button class="tab-button" data-tab="gradient">Gradient</button>
            </div>

            <div id="settingsTab" class="tab-content active">
                <button id="viewPatchNotesBtn" class="gradient-btn" style="width:100%;padding:12px;font-size:1rem;">View Patch Notes</button>
                <div id="patchNotesSection" class="settings-box" style="display:none;">
                    <h3 style="text-align:center;margin-bottom:12px;">Patch Notes</h3>
                    <div style="background:rgba(60,30,90,.7);padding:12px;border-radius:8px;border-left:4px solid var(--glow);">
                        <strong style="color:#e0bbff">v1.3 - Nov 20, 2025</strong><br>• Polished UI<br>• Cloaker added
                    </div>
                </div>
                <div class="settings-box">
                    <h3 style="margin-bottom:10px;font-size:1.2rem">Cloaking</h3>
                    <input type="text" id="cloakTitle" placeholder="Title (e.g. Google Classroom)" style="width:100%;padding:10px;margin:8px 0;border-radius:8px;background:#ffffff10;border:1px solid #9370db66;color:#fff;">
                    <input type="text" id="cloakFavicon" placeholder="Favicon URL" style="width:100%;padding:10px;margin:8px 0;border-radius:8px;background:#ffffff10;border:1px solid #9370db66;color:#fff;">
                    <button id="applyCloak" class="gradient-btn" style="width:100%;margin-top:12px;padding:12px;">Apply Cloak</button>
                </div>
            </div>

            <div id="gradientTab" class="tab-content">
                <div class="gradient-controls">
                    <h3 style="text-align:center;margin-bottom:12px;font-size:1.3rem">Presets</h3>
                    <div class="gradient-presets">
                        <div class="gradient-preset active" style="background:linear-gradient(135deg,#1a0a2e,#2c0a47,#1a0a2e)" data-colors='["#1a0a2e","#2c0a47","#1a0a2e"]'></div>
                        <div class="gradient-preset" style="background:linear-gradient(135deg,#0f4c75,#3282b8,#0f4c75)" data-colors='["#0f4c75","#3282b8","#0f4c75"]'></div>
                        <div class="gradient-preset" style="background:linear-gradient(135deg,#1b4332,#2d6a4f,#1b4332)" data-colors='["#1b4332","#2d6a4f","#1b4332"]'></div>
                        <div class="gradient-preset" style="background:linear-gradient(135deg,#5a189a,#9d4edd,#5a189a)" data-colors='["#5a189a","#9d4edd","#5a189a"]'></div>
                        <div class="gradient-preset" style="background:linear-gradient(135deg,#b23a48,#ff6b6b,#b23a48)" data-colors='["#b23a48","#ff6b6b","#b23a48"]'></div>
                        <div class="gradient-preset" style="background:linear-gradient(135deg,#ff9a8b,#ff6b6b,#ff9a8b)" data-colors='["#ff9a8b","#ff6b6b","#ff9a8b"]'></div>
                    </div>
                    <div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:12px;margin:15px 0;">
                        <input type="color" class="color-input" id="color1" value="#1a0a2e">
                        <input type="color" class="color-input" id="color2" value="#2c0a47">
                        <input type="color" class="color-input" id="color3" value="#1a0a2e">
                    </div>
                    <div style="display:flex;gap:10px;">
                        <button class="gradient-btn" id="applyGradient" style="flex:1;">Apply</button>
                        <button class="gradient-btn" id="resetGradient" style="flex:1;">Reset</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
   
   <div id="warningModal" class="modal">
        <div class="modal-content" style="text-align:center;padding:30px;">
            <h3 style="font-size:2.2rem;margin-bottom:15px;">V1.3</h3>
            <p style="font-size:1.2rem;">+ Cloaker</p>
            <p style="font-size:1.2rem;">+ Compact & Polished UI</p>
            <button class="gradient-btn" onclick="document.getElementById('warningModal').style.display='none'" style="margin-top:20px;padding:12px 40px;">Close</button>
        </div>
    </div>

    <div class="container">
        <header>
            <h1 id="mainTitle">byzan.lol</h1>
            <p class="subtitle">One-click classroom access</p>
        </header>
        <div class="section">
            <div class="section-header">Educational Classes</div>
            <div id="gamesGrid" class="games-grid"></div>
        </div>
        <footer>byzan.lol © 2025</footer>
    </div>

    <script>
// fixi
       fetch('https://raw.githubusercontent.com/justqnoo/byzanlol/refs/heads/main/games.json')
            .then(r => r.json())
            .then(data => {
                const grid = document.getElementById('gamesGrid');
                data.forEach(g => {
                    const card = document.createElement('div');
                    card.className = 'game-card';
                    card.onclick = () => launchGame(g.url);
                    card.innerHTML = `<img src="${g.image}" class="game-icon" alt="${g.name}">
                                      <div class="game-title">${g.name}</div>
                                      <div class="game-desc">${g.description}</div>`;
                    grid.appendChild(card);
                });
            });

        function launchGame(url) {
            const win = window.open('about:blank', '_blank');
            fetch(url).then(r => r.text()).then(html => {
                win.document.write(`<!DOCTYPE html><html><head><title>${document.title}</title><link rel="icon" href="${document.querySelector('link[rel="icon"]').href}"></head><body>${html}</body></html>`);
            });
        }

        document.getElementById('openSettings').onclick = () => document.getElementById('settingsModal').style.display = 'flex';
        document.querySelector('.close-modal').onclick = () => document.getElementById('settingsModal').style.display = 'none';
        document.querySelectorAll('.tab-button').forEach(b => b.onclick = () => {
            document.querySelectorAll('.tab-button').forEach(x => x.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(x => x.classList.remove('active'));
            b.classList.add('active');
            document.getElementById(b.dataset.tab + 'Tab').classList.add('active');
        });
        window.onclick = e => { if (e.target.classList.contains('modal')) e.target.style.display = 'none'; };

        document.getElementById('viewPatchNotesBtn').onclick = () => {
            const s = document.getElementById('patchNotesSection');
            s.style.display = s.style.display === 'block' ? 'none' : 'block';
        };

        function createShootingStar() {
            const s = document.createElement('div'); s.className = 'shooting-star';
            const x = Math.random() * innerWidth;
            const y = Math.random() * innerHeight * 0.3;
            s.style.left = x + 'px'; s.style.top = y + 'px';
            s.style.setProperty('--tx', (Math.random() - 0.5) * 800 + 'px');
            s.style.setProperty('--ty', (Math.random() * 300 + 200) + 'px');
            s.style.animation = `shoot ${1.5 + Math.random()}s linear forwards`;
            document.body.appendChild(s);
            setTimeout(() => s.remove(), 3000);
        }
        setInterval(createShootingStar, 800);

        const presets = document.querySelectorAll('.gradient-preset');
        const inputs = [document.getElementById('color1'), document.getElementById('color2'), document.getElementById('color3')];

        function applyGradient(colors) {
            const grad = `linear-gradient(135deg,${colors.join(',')})`;
            const glow = colors.reduce((a,c) => {
                const rgb = parseInt(c.slice(1),16);
                a.r += (rgb>>16); a.g += (rgb>>8)&255; a.b += rgb&255;
                return a;
            }, {r:0,g:0,b:0});
            const avg = `#${((glow.r/3)<<16 | (glow.g/3)<<8 | glow.b/3).toString(16).padStart(6,'0')}`;
            document.documentElement.style.setProperty('--glow', avg);
            document.documentElement.style.setProperty('--mid', colors[1]);
            document.documentElement.style.setProperty('--active', colors[1]);
            document.body.style.background = grad;
            document.querySelectorAll('.modal-content,.section,.game-card,.settings-box').forEach(el => el.style.background = grad);
            localStorage.setItem('customGradient', JSON.stringify(colors));
        }

        function loadSaved() {
            const saved = localStorage.getItem('customGradient');
            if (saved) {
                const c = JSON.parse(saved);
                inputs.forEach((i,idx) => i.value = c[idx]);
                applyGradient(c);
            }
        }

        presets.forEach(p => p.onclick = () => {
            presets.forEach(x => x.classList.remove('active')); p.classList.add('active');
            const c = JSON.parse(p.dataset.colors);
            inputs.forEach((i,idx) => i.value = c[idx]);
            applyGradient(c);
        });

        document.getElementById('applyGradient').onclick = () => applyGradient(inputs.map(i => i.value));
        document.getElementById('resetGradient').onclick = () => {
            presets[0].click();
            localStorage.removeItem('customGradient');
        };
        document.getElementById('applyCloak').onclick = () => {
            const title = document.getElementById('cloakTitle').value || 'Google Classroom';
            const icon = document.getElementById('cloakFavicon').value || 'https://classroom.google.com/favicon.ico';
            document.title = title;
            let link = document.querySelector('link[rel="icon"]') || document.createElement('link');
            link.rel = 'icon'; link.href = icon;
            if (!document.head.contains(link)) document.head.appendChild(link);
        };

        window.onload = () => { loadSaved(); document.getElementById('warningModal').style.display = 'flex'; };
    </script>
</body>
</html>
