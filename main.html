<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Home</title>
      <link rel="icon" href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQUNcqSEzazM9S6NwrwIU6UM18w7ZBi9ND74w&s" type="image/x-icon">
      <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
      <style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif}html,body{height:100%;width:100%;overflow-x:hidden}body{background:linear-gradient(135deg,#1a0a2e,#2c0a47,#1a0a2e);color:#fff;position:relative;min-height:100vh;transition:background .5s ease,color .5s ease}body::before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at 10% 20%,rgba(101,45,147,.15) 0,transparent 20%),radial-gradient(circle at 90% 80%,rgba(101,45,147,.15) 0,transparent 20%),radial-gradient(circle at 50% 50%,rgba(101,45,147,.1) 0,transparent 30%);z-index:-1;transition:background .5s ease}body::after{content:"";position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;background-image:radial-gradient(1.2px 1.2px at 10% 20%,#fff 50%,transparent 50%),radial-gradient(1.2px 1.2px at 15% 35%,#fff 50%,transparent 50%),radial-gradient(1.2px 1.2px at 25% 60%,#fff 50%,transparent 50%),radial-gradient(1.2px 1.2px at 30% 85%,#fff 50%,transparent 50%),radial-gradient(1.2px 1.2px at 40% 15%,#fff 50%,transparent 50%),radial-gradient(1.2px 1.2px at 45% 50%,#fff 50%,transparent 50%),radial-gradient(1.2px 1.2px at 55% 75%,#fff 50%,transparent 50%),radial-gradient(1.2px 1.2px at 60% 30%,#fff 50%,transparent 50%),radial-gradient(1.2px 1.2px at 65% 90%,#fff 50%,transparent 50%),radial-gradient(1.2px 1.2px at 70% 5%,#fff 50%,transparent 50%),radial-gradient(1.2px 1.2px at 75% 40%,#fff 50%,transparent 50%),radial-gradient(1.2px 1.2px at 80% 70%,#fff 50%,transparent 50%),radial-gradient(1.2px 1.2px at 85% 25%,#fff 50%,transparent 50%),radial-gradient(1.2px 1.2px at 90% 65%,#fff 50%,transparent 50%),radial-gradient(1.2px 1.2px at 95% 10%,#fff 50%,transparent 50%);background-size:20% 20%;animation:twinkle 5s ease-in-out infinite alternate,moveStars 60s linear infinite}.shooting-star{position:fixed;height:2px;background:linear-gradient(90deg,rgba(255,255,255,0) 0%,#fff 50%,rgba(255,255,255,0) 100%);border-radius:50%;filter:drop-shadow(0 0 6px rgba(255,255,255,.7));pointer-events:none;opacity:0;z-index:1}@keyframes twinkle{0%,100%{opacity:.7}50%{opacity:1}}@keyframes moveStars{0%{transform:translateY(0) rotate(0)}100%{transform:translateY(100px) rotate(2deg)}}@keyframes shoot{0%{transform:translateX(0) translateY(0);opacity:0;width:0}10%{opacity:1;width:5px}100%{transform:translateX(var(--tx)) translateY(var(--ty));opacity:0;width:100px}}.gradient-controls{background:rgba(30,15,50,.9);border-radius:15px;padding:20px;margin-top:20px;border:1px solid rgba(147,112,219,.3)}.gradient-presets{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:10px;margin-bottom:20px}.gradient-preset{height:60px;border-radius:10px;cursor:pointer;border:2px solid transparent;transition:all .3s ease;position:relative}.gradient-preset:hover{transform:scale(1.05);border-color:#fff}.gradient-preset.active{border-color:#9370db;border-width:3px}.color-picker-group{display:grid;grid-template-columns:repeat(3,1fr);gap:15px;margin-bottom:15px}.color-picker{display:flex;flex-direction:column;align-items:center;gap:5px}.color-picker label{font-size:.9rem;opacity:.8}.color-input{width:100%;height:40px;border:none;border-radius:8px;cursor:pointer;background:transparent}.gradient-actions{display:flex;gap:10px;justify-content:center}.gradient-btn{background:linear-gradient(135deg,#1a0a2e,#2c0a47);border:1px solid rgba(147,112,219,.3);color:#fff;padding:8px 15px;border-radius:20px;cursor:pointer;transition:all .3s ease;font-size:.9rem}.gradient-btn:hover{background:linear-gradient(135deg,#2c0a47,#3a1a57);border-color:rgba(147,112,219,.5)}.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.8);z-index:2000;justify-content:center;align-items:center}.modal-content{background:linear-gradient(135deg,#1a0a2e,#2c0a47,#1a0a2e);color:#fff;border-radius:15px;width:90%;max-width:800px;box-shadow:0 0 30px rgba(106,13,173,.7);border:1px solid rgba(147,112,219,.5);overflow:hidden;transition:background .5s ease,border-color .5s ease}.modal-header{display:flex;background:linear-gradient(135deg,#1a0a2e,#2c0a47);border-bottom:2px solid rgba(147,112,219,.3);transition:background .5s ease,border-color .5s ease}.tab-button{flex:1;padding:15px;background:linear-gradient(135deg,#1a0a2e,#2c0a47);border:1px solid rgba(147,112,219,.3);color:#fff;font-size:1.1rem;cursor:pointer;transition:all .3s ease}.tab-button.active{background:linear-gradient(135deg,#2c0a47,#1a0a2e);border-color:rgba(147,112,219,.7)}.tab-button:hover:not(.active){background:linear-gradient(135deg,#2c0a47,#3a1a57);border-color:rgba(147,112,219,.5)}.tab-content{display:none;padding:25px;max-height:60vh;overflow-y:auto;background:rgba(30,15,50,.5)}.tab-content.active{display:block}.close-modal{position:absolute;top:15px;right:20px;font-size:2rem;background:linear-gradient(135deg,#1a0a2e,#2c0a47);border:1px solid rgba(147,112,219,.3);color:#fff;cursor:pointer;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.close-modal:hover{background:linear-gradient(135deg,#2c0a47,#3a1a57);border-color:rgba(147,112,219,.5)}.warning-modal-content{background:linear-gradient(135deg,#1a0a2e,#2c0a47,#1a0a2e);color:#fff;border-radius:15px;width:90%;max-width:500px;box-shadow:0 0 30px rgba(106,13,173,.7);border:1px solid rgba(147,112,219,.5);padding:20px;text-align:center;z-index:2001}.warning-modal-content h2{margin-top:0;color:#44aaff;font-size:1.8rem;text-shadow:0 0 10px rgba(68,170,255,.5),0 0 20px rgba(68,170,255,.8)}.warning-modal-content p{margin:15px 0;font-size:1.1rem;line-height:1.5}.warning-close-btn{background:linear-gradient(135deg,#1a0a2e,#2c0a47);border:1px solid rgba(147,112,219,.3);color:#fff;cursor:pointer;padding:10px 25px;font-size:1rem;border-radius:30px;margin-top:15px;transition:all .3s ease}.warning-close-btn:hover{background:linear-gradient(135deg,#2c0a47,#3a1a57);border-color:rgba(147,112,219,.5)}.patch-notes-list{list-style-type:none;padding-left:0}.patch-notes-list li{margin-bottom:15px;padding:15px;background:rgba(50,25,70,.5);border-radius:8px;border-left:4px solid #9370db}.patch-version{display:block;font-weight:700;color:#d4afdd;margin-bottom:5px}.toggle-switch{position:relative;display:inline-block;width:60px;height:34px}.toggle-switch input{opacity:0;width:0;height:0}.slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;transition:.4s;border-radius:34px}.slider:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:#fff;transition:.4s;border-radius:50%}input:checked+.slider{background-color:#9370db}input:checked+.slider:before{transform:translateX(26px)}.patch-notes-section{display:none;margin-top:20px;padding:15px;background:rgba(50,25,70,.5);border-radius:8px}#viewPatchNotesBtn{margin-top:15px;background:linear-gradient(135deg,#1a0a2e,#2c0a47);padding:10px 15px;border-radius:30px;border:1px solid rgba(147,112,219,.4);color:#fff;cursor:pointer;z-index:1000;transition:all .3s ease}#viewPatchNotesBtn:hover{background:linear-gradient(135deg,#2c0a47,#3a1a57);border-color:rgba(147,112,219,.5)}.container{max-width:1200px;margin:0 auto;padding:20px;min-height:100vh;display:flex;flex-direction:column;position:relative;z-index:2}header{text-align:center;padding:30px 0;margin-bottom:20px;border-bottom:2px solid rgba(255,255,255,.1);position:relative;overflow:hidden}h1{font-size:3.2rem;margin-bottom:10px;text-shadow:0 0 15px rgba(106,13,173,.7);background:linear-gradient(to right,#d4afdd,#b19cd9,#9370db);-webkit-background-clip:text;-webkit-text-fill-color:transparent;position:relative;display:inline-block;transition:all .5s ease}h1.dark-text{background:linear-gradient(to right,#1a0a2e,#2c0a47,#1a0a2e)!important;-webkit-background-clip:text!important;-webkit-text-fill-color:transparent!important;text-shadow:0 0 15px rgba(0,0,0,.7)!important}h1.gradient-text{-webkit-background-clip:text!important;-webkit-text-fill-color:transparent!important;text-shadow:0 0 15px rgba(0,0,0,.3)!important}h1::after{content:'';position:absolute;bottom:-10px;left:50%;transform:translateX(-50%);width:100px;height:4px;background:linear-gradient(to right,transparent,#9370db,transparent);border-radius:2px;transition:all .5s ease}h1.dark-text::after{background:linear-gradient(to right,transparent,#1a0a2e,transparent)}h1.gradient-text::after{background:linear-gradient(to right,transparent,currentColor,transparent)}.subtitle{font-size:1.3rem;opacity:.8;margin-top:15px;animation:pulse 3s infinite;transition:color .5s ease}.game-sections{display:flex;flex-direction:column;gap:25px;flex-grow:1;margin-top:10px}.section{background:rgba(30,15,50,.6);border-radius:15px;overflow:hidden;box-shadow:0 10px 30px rgba(0,0,0,.4);transition:all .4s ease;backdrop-filter:blur(10px);border:1px solid rgba(147,112,219,.3);position:relative;transform:translateY(0);animation:float 6s ease-in-out infinite}.section:hover{transform:translateY(-10px) scale(1.03);box-shadow:0 15px 35px rgba(147,112,219,.4);border-color:rgba(147,112,219,.7)}.section-header{background:linear-gradient(135deg,#1a0a2e,#2c0a47);padding:18px;text-align:center;font-size:1.5rem;font-weight:600;border-bottom:2px solid rgba(147,112,219,.3);position:relative;transition:all .5s ease}.section-header::after{content:'';position:absolute;bottom:0;left:10%;width:80%;height:2px;background:linear-gradient(to right,transparent,#9370db,transparent);border-radius:2px;transition:all .5s ease}.games-grid{padding:20px;display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:15px}.game-card{background:rgba(50,25,70,.7);border-radius:12px;padding:18px;margin-bottom:18px;cursor:pointer;transition:all .3s ease;border:1px solid rgba(147,112,219,.2);position:relative;overflow:hidden;display:flex;flex-direction:column;align-items:center;min-height:220px}.game-card::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(147,112,219,.2),transparent);transition:.5s}.game-card:hover{transform:scale(1.03);box-shadow:0 5px 15px rgba(147,112,219,.3)}.game-card:hover::before{left:100%}.game-icon{width:100px;height:100px;margin-bottom:12px;object-fit:contain;border-radius:8px;border:2px solid rgba(255,255,255,.1)}.game-title{font-size:1.2rem;margin-bottom:8px;display:flex;align-items:center;font-weight:600;justify-content:center;transition:color .5s ease}.game-title i{margin-right:12px;font-size:1.4rem;color:#b19cd9;transition:color .5s ease}.game-desc{font-size:.95rem;opacity:.8;line-height:1.5;text-align:center;transition:color .5s ease}footer{text-align:center;margin-top:auto;padding:25px;opacity:.7;font-size:1rem;border-top:1px solid rgba(147,112,219,.2);transition:color .5s ease}@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-15px)}}@keyframes pulse{0%,100%{opacity:.7}50%{opacity:1}}@keyframes pulse-border{0%,100%{box-shadow:0 0 15px rgba(147,112,219,.3)}50%{box-shadow:0 0 25px rgba(147,112,219,.6)}}@keyframes glow{from{text-shadow:0 0 5px rgba(164,252,164,.5)}to{text-shadow:0 0 20px rgba(164,252,164,.8)}}@keyframes glow-red{from{text-shadow:0 0 5px rgba(255,107,107,.5)}to{text-shadow:0 0 20px rgba(255,107,107,.8)}}@media (max-width:768px){.games-grid{grid-template-columns:1fr}h1{font-size:2.5rem}.subtitle{font-size:1.1rem}.container{padding:15px}.color-picker-group{grid-template-columns:1fr}.gradient-presets{grid-template-columns:repeat(2,1fr)}}
      </style>
   </head>
   <body>
      <button id="openSettings" style="position: fixed; top: 20px; left: 20px; background: linear-gradient(135deg, #1a0a2e, #2c0a47); padding: 10px 15px; border-radius: 30px; border: 1px solid rgba(147, 112, 219, 0.3); color: white; cursor: pointer; z-index: 1000; transition: all 0.3s ease;">‚öôÔ∏è Settings</button>
      <div id="settingsModal" class="modal">
         <div class="modal-content">
            <button class="close-modal">&times;</button>
            <div class="modal-header">
               <button class="tab-button active" data-tab="settings">Settings</button>
               <button class="tab-button" data-tab="gradient">Gradient Customization</button>
            </div>
            <div id="settingsTab" class="tab-content active">
               <button id="viewPatchNotesBtn">View Patch Notes</button>
               <div id="patchNotesSection" class="patch-notes-section">
                  <h3>Patch Notes</h3>
                  <p>Details about the latest updates.</p>
                  <ul class="patch-notes-list">
                     <li>
                        <span class="patch-version">v1.1 - November 13, 2025:</span>
                        <p>Added Space Waves</p>
                        <p>Added Customizable Gradients</p>
                     </li>
                     <li>
                        <span class="patch-version">v1 - November 10, 2025:</span>
                        <p>Added Race Survival Arena King.</p>
                        <p>Added Stars in the background</p>
                        <p>Added flying shards in the background</p>
                        <p>Removed Custom gradients</p>
                     </li>
                  </ul>
               </div>
               <!-- Cloaking Settings Section -->
               <div style="margin-top: 20px; padding: 15px; background: rgba(50,25,70,.5); border-radius: 8px;">
                  <h3>Cloaking Settings</h3>
                  <div style="display: flex; flex-direction: column; gap: 10px;">
                     <div>
                        <label for="cloakTitle" style="display: block; margin-bottom: 5px;">Title:</label>
                        <input type="text" id="cloakTitle" placeholder="Enter page title" style="width: 100%; padding: 8px; border-radius: 5px; border: 1px solid rgba(147,112,219,.3); background: rgba(30,15,50,.7); color: white;">
                     </div>
                     <div>
                        <label for="cloakFavicon" style="display: block; margin-bottom: 5px;">Favicon URL:</label>
                        <input type="text" id="cloakFavicon" placeholder="Enter favicon URL" style="width: 100%; padding: 8px; border-radius: 5px; border: 1px solid rgba(147,112,219,.3); background: rgba(30,15,50,.7); color: white;">
                     </div>
                     <button id="applyCloak" style="background: linear-gradient(135deg, #1a0a2e, #2c0a47); border: 1px solid rgba(147,112,219, 0.3); color: white; padding: 8px 15px; border-radius: 20px; cursor: pointer; transition: all 0.3s ease;">Apply Cloak</button>
                  </div>
               </div>
            </div>
            <div id="gradientTab" class="tab-content">
               <div class="gradient-controls">
                  <h3>Gradient Presets</h3>
                  <div class="gradient-presets">
                     <div class="gradient-preset active" style="background: linear-gradient(135deg, #1a0a2e, #2c0a47, #1a0a2e);" data-colors='["#1a0a2e", "#2c0a47", "#1a0a2e"]'></div>
                     <div class="gradient-preset" style="background: linear-gradient(135deg, #0f4c75, #3282b8, #0f4c75);" data-colors='["#0f4c75", "#3282b8", "#0f4c75"]'></div>
                     <div class="gradient-preset" style="background: linear-gradient(135deg, #1b4332, #2d6a4f, #1b4332);" data-colors='["#1b4332", "#2d6a4f", "#1b4332"]'></div>
                     <div class="gradient-preset" style="background: linear-gradient(135deg, #5a189a, #9d4edd, #5a189a);" data-colors='["#5a189a", "#9d4edd", "#5a189a"]'></div>
                     <div class="gradient-preset" style="background: linear-gradient(135deg, #b23a48, #ff6b6b, #b23a48);" data-colors='["#b23a48", "#ff6b6b", "#b23a48"]'></div>
                     <div class="gradient-preset" style="background: linear-gradient(135deg, #1a1a2e, #16213e, #1a1a2e);" data-colors='["#1a1a2e", "#16213e", "#1a1a2e"]'></div>
                     <div class="gradient-preset" style="background: linear-gradient(135deg, #ff9a8b, #ff6b6b, #ff9a8b);" data-colors='["#ff9a8b", "#ff6b6b", "#ff9a8b"]'></div>
                     <div class="gradient-preset" style="background: linear-gradient(135deg, #a8e6cf, #56ab91, #a8e6cf);" data-colors='["#a8e6cf", "#56ab91", "#a8e6cf"]'></div>
                     <div class="gradient-preset" style="background: linear-gradient(135deg, #ffd93d, #ff9a8b, #ffd93d);" data-colors='["#ffd93d", "#ff9a8b", "#ffd93d"]'></div>
                  </div>
                  <h3>Custom Gradient</h3>
                  <div class="color-picker-group">
                     <div class="color-picker">
                        <label>Color 1</label>
                        <input type="color" class="color-input" id="color1" value="#1a0a2e">
                     </div>
                     <div class="color-picker">
                        <label>Color 2</label>
                        <input type="color" class="color-input" id="color2" value="#2c0a47">
                     </div>
                     <div class="color-picker">
                        <label>Color 3</label>
                        <input type="color" class="color-input" id="color3" value="#1a0a2e">
                     </div>
                  </div>
                  <div class="gradient-actions">
                     <button class="gradient-btn" id="applyGradient">Apply Gradient</button>
                     <button class="gradient-btn" id="resetGradient">Reset to Default</button>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div id="warningModal" class="modal">
         <div class="warning-modal-content">
            <h3>Update V1.1</h3>
            <p>Added Space Waves</p>
            <p>Added Customizable Gradients</p>
            <p>
               <strong>November 13th, 2025 at 10:50PM</strong>
            </p>
            <button class="warning-close-btn">Thank you!</button>
         </div>
      </div>
      <div class="container">
         <header>
            <h1 id="mainTitle">byzan.lol</h1>
            <p class="subtitle" id="subtitleText">Go to your classes with just one click</p>
         </header>
         <div class="game-sections">
            <div class="section">
               <div class="section-header">Educational Classes</div>
               <div id="gamesGrid" class="games-grid">
               </div>
            </div>
         </div>
         <footer>
            <p id="footerText">byzan.lol &copy; 2025</p>
         </footer>
      </div>
      <script>
         /* ---------- 1. load games ---------- */
         let gamesData = [];
         fetch('https://raw.githubusercontent.com/justqnoo/byzanlol/refs/heads/main/games.json')
         .then(res => res.json())
         .then(data => {
         gamesData = data;
         generateGameCards();
         })
         .catch(err => console.error('Games list failed to load:', err));
         /* ---------- 2. build the grid ---------- */
         function generateGameCards() {
         const grid = document.getElementById('gamesGrid');
         grid.innerHTML = '';
         gamesData.forEach(g => {
         const card = document.createElement('div');
         card.className = 'game-card';
         card.onclick = () => launchGame(g.url);
         card.innerHTML = `
         <img src="${g.image}" alt="${g.name}" class="game-icon">
           <div class="game-title">
             <i>üéÆ</i> ${g.name}</div>
               <div class="game-desc">${g.description}</div>`;
                 grid.appendChild(card);
                 });
                 }
/* ---------- 3. launch the game ---------- */
function launchGame(gameUrl) {
    const win = window.open('about:blank', '_blank');
    fetch(gameUrl)
    .then(r => r.text())
    .then(html => {
        const d = win.document;
        d.open();
        d.write(`<!DOCTYPE html>
        <html>
          <head>
            <title>Game</title>
            <link rel="icon" href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQUNcqSEzazM9S6NwrwIU6UM18w7ZBi9ND74w&s" type="image/x-icon">
            <link rel="shortcut icon" href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQUNcqSEzazM9S6NwrwIU6UM18w7ZBi9ND74w&s" type="image/x-icon">
          </head>
          <body>${html}</body>
        </html>`);
        d.close();
    })
    .catch(() => alert('Failed to load the game. Please try again.'));
}
                       /* ---------- 4. modals ---------- */
                       const modal = document.getElementById('settingsModal');
                       const openBtn = document.getElementById('openSettings');
                       const closeBtn = document.querySelector('.close-modal');
                       const patchBtn = document.getElementById('viewPatchNotesBtn');
                       const patchSection = document.getElementById('patchNotesSection');
                       const tabButtons = document.querySelectorAll('.tab-button');
                       const tabContents = document.querySelectorAll('.tab-content');
                       let patchVisible = false;
                       openBtn.onclick = () => modal.style.display = 'flex';
                       closeBtn.onclick = () => { modal.style.display = 'none'; hidePatch(); };
                       window.onclick = e => { if (e.target === modal) { modal.style.display = 'none'; hidePatch(); } };
                       // Tab switching
                       tabButtons.forEach(button => {
                         button.addEventListener('click', () => {
                           const tab = button.getAttribute('data-tab');
                           tabButtons.forEach(btn => btn.classList.remove('active'));
                           tabContents.forEach(content => content.classList.remove('active'));
                           button.classList.add('active');
                           document.getElementById(`${tab}Tab`).classList.add('active');
                         });
                       });
                       patchBtn.onclick = () => {
                         patchVisible ? hidePatch() : showPatch();
                         patchVisible = !patchVisible;
                       };
                       function showPatch() { patchSection.style.display = 'block'; patchBtn.textContent = 'Hide Patch Notes'; }
                       function hidePatch() { patchSection.style.display = 'none'; patchBtn.textContent = 'View Patch Notes'; }
                       /* ---------- 5. warning modal ---------- */
                       const warnModal = document.getElementById('warningModal');
                       const warnClose = document.querySelector('.warning-close-btn');
                       warnClose.onclick = () => warnModal.style.display = 'none';
                       window.onclick = e => { if (e.target === warnModal) warnModal.style.display = 'none'; };
                       window.addEventListener('load', () => warnModal.style.display = 'flex');
                       /* ---------- 6. shooting stars ---------- */
                       function createShootingStar() {
                         const star = document.createElement('div');
                         star.className = 'shooting-star';
                         const side = Math.floor(Math.random() * 4);
                         let sx, sy, ex, ey;
                         switch (side) {
                           case 0: sx = Math.random() * innerWidth; sy = 0; ex = sx + (Math.random() - .5) * 500; ey = innerHeight; break;
                           case 1: sx = innerWidth; sy = Math.random() * innerHeight; ex = sx - (Math.random() - .5) * 500; ey = sy + (Math.random() - .5) * 500; break;
                           case 2: sx = Math.random() * innerWidth; sy = innerHeight; ex = sx + (Math.random() - .5) * 500; ey = 0; break;
                           case 3: sx = 0; sy = Math.random() * innerHeight; ex = sx + (Math.random() - .5) * 500; ey = sy + (Math.random() - .5) * 500; break;
                         }
                         star.style.left = `${sx}px`; star.style.top = `${sy}px`;
                         star.style.setProperty('--tx', `${ex - sx}px`); star.style.setProperty('--ty', `${ey - sy}px`);
                         const dur = 1 + Math.random() * 2, delay = Math.random() * 5;
                         star.style.animation = `shoot ${dur}s ease-out ${delay}s forwards`;
                         document.body.appendChild(star);
                         setTimeout(() => star.remove(), (delay + dur) * 1000);
                       }
                       setInterval(createShootingStar, 700 + Math.random() * 750);
                       /* ---------- 7. gradient customization ---------- */
                       const gradientPresets = document.querySelectorAll('.gradient-preset');
                       const colorInputs = document.querySelectorAll('.color-input');
                       const applyBtn = document.getElementById('applyGradient');
                       const resetBtn = document.getElementById('resetGradient');
                       const mainTitle = document.getElementById('mainTitle');
                       const subtitleText = document.getElementById('subtitleText');
                       const footerText = document.getElementById('footerText');

                       function getColorBrightness(hex) {
                         const r = parseInt(hex.substr(1, 2), 16);
                         const g = parseInt(hex.substr(3, 2), 16);
                         const b = parseInt(hex.substr(5, 2), 16);
                         return (r * 299 + g * 587 + b * 114) / 1000;
                       }

                       function getGradientBrightness(colors) {
                         const brightness1 = getColorBrightness(colors[0]);
                         const brightness2 = getColorBrightness(colors[1]);
                         const brightness3 = getColorBrightness(colors[2]);
                         return (brightness1 + brightness2 + brightness3) / 3;
                       }

                       function adjustColorBrightness(hex, percent) {
                         const num = parseInt(hex.replace("#", ""), 16);
                         const amt = Math.round(2.55 * percent);
                         const R = (num >> 16) + amt;
                         const G = (num >> 8 & 0x00FF) + amt;
                         const B = (num & 0x0000FF) + amt;
                         return "#" + (
                           0x1000000 +
                           (R < 255 ? (R < 1 ? 0 : R) : 255) * 0x10000 +
                           (G < 255 ? (G < 1 ? 0 : G) : 255) * 0x100 +
                           (B < 255 ? (B < 1 ? 0 : B) : 255)
                         ).toString(16).slice(1);
                       }

                       function mixWithBlack(hex, percent) {
                         const num = parseInt(hex.replace("#", ""), 16);
                         const R = Math.round((num >> 16) * (1 - percent/100));
                         const G = Math.round((num >> 8 & 0x00FF) * (1 - percent/100));
                         const B = Math.round((num & 0x0000FF) * (1 - percent/100));
                         return "#" + (
                           0x1000000 +
                           (R < 255 ? (R < 1 ? 0 : R) : 255) * 0x10000 +
                           (G < 255 ? (G < 1 ? 0 : G) : 255) * 0x100 +
                           (B < 255 ? (B < 1 ? 0 : B) : 255)
                         ).toString(16).slice(1);
                       }

                       function applyGradient(colors) {
                         const gradient = `linear-gradient(135deg, ${colors[0]}, ${colors[1]}, ${colors[2]})`;
                         const avgBrightness = getGradientBrightness(colors);

                         // Calculate a subtle "glow" color based on the average of the gradient colors
                         const avgR = (parseInt(colors[0].substring(1, 3), 16) + parseInt(colors[1].substring(1, 3), 16) + parseInt(colors[2].substring(1, 3), 16)) / 3;
                         const avgG = (parseInt(colors[0].substring(3, 5), 16) + parseInt(colors[1].substring(3, 5), 16) + parseInt(colors[2].substring(3, 5), 16)) / 3;
                         const avgB = (parseInt(colors[0].substring(5, 7), 16) + parseInt(colors[1].substring(5, 7), 16) + parseInt(colors[2].substring(5, 7), 16)) / 3;
                         const avgHex = "#" + Math.round(avgR).toString(16).padStart(2, '0') + Math.round(avgG).toString(16).padStart(2, '0') + Math.round(avgB).toString(16).padStart(2, '0');
                         const glowColor = avgHex;

                         // Apply main background gradient
                         document.body.style.background = gradient;

                         // Apply gradient to modals and UI elements
                         document.querySelectorAll('.modal-content, .warning-modal-content').forEach(el => {
                           el.style.background = gradient;
                         });

                         document.querySelectorAll('.tab-button, .close-modal, .warning-close-btn, #viewPatchNotesBtn, .modal-header, .gradient-btn').forEach(el => {
                           el.style.background = `linear-gradient(135deg, ${colors[0]}, ${colors[1]})`;
                         });

                         openBtn.style.background = `linear-gradient(135deg, ${colors[0]}, ${colors[1]})`;

                         document.querySelectorAll('.tab-button.active').forEach(el => {
                           el.style.background = `linear-gradient(135deg, ${colors[1]}, ${colors[0]})`;
                         });

                         const gameCards = document.querySelectorAll('.game-card');
                         const sections = document.querySelectorAll('.section');
                         const sectionHeaders = document.querySelectorAll('.section-header');

                         if (avgBrightness > 180) { // Light gradient
                           // Calculate darker versions of the specific gradient colors for UI elements
                           const cardColor1 = adjustColorBrightness(colors[0], -25);
                           const cardColor2 = adjustColorBrightness(colors[1], -25);
                           const sectionColor1 = adjustColorBrightness(colors[0], -15);
                           const sectionColor2 = adjustColorBrightness(colors[1], -15);
                           const headerColor1 = adjustColorBrightness(colors[0], -10);
                           const headerColor2 = adjustColorBrightness(colors[1], -10);

                           gameCards.forEach(card => {
                             card.style.background = `linear-gradient(135deg, ${cardColor1}, ${cardColor2})`;
                           });

                           sections.forEach(section => {
                             section.style.background = `linear-gradient(135deg, ${sectionColor1}, ${sectionColor2})`;
                           });

                           sectionHeaders.forEach(header => {
                             header.style.background = `linear-gradient(135deg, ${headerColor1}, ${headerColor2})`;
                           });

                           // Use a dark text color, derived from the gradient
                           const textColor = mixWithBlack(colors[1], 70); // Mix color2 with 70% black
                           document.body.style.color = textColor;

                           document.querySelectorAll('.game-title, .game-desc, .subtitle, footer p').forEach(el => {
                             el.style.color = textColor;
                           });
                           subtitleText.style.color = textColor;
                           footerText.style.color = textColor;

                           document.querySelectorAll('.game-title i').forEach(icon => {
                             icon.style.color = textColor;
                           });

                           // Apply subtle glow using the average gradient color
                           document.querySelectorAll('.game-title, .game-desc, .subtitle, footer p, h1, .section-header').forEach(el => {
                             el.style.textShadow = `0 0 5px ${glowColor}, 0 0 10px ${glowColor}`;
                           });

                         } else if (avgBrightness > 140) { // Medium-light gradient
                           const cardColor1 = adjustColorBrightness(colors[0], -15);
                           const cardColor2 = adjustColorBrightness(colors[1], -15);
                           const sectionColor1 = adjustColorBrightness(colors[0], -8);
                           const sectionColor2 = adjustColorBrightness(colors[1], -8);
                           const headerColor1 = adjustColorBrightness(colors[0], -5);
                           const headerColor2 = adjustColorBrightness(colors[1], -5);

                           gameCards.forEach(card => {
                             card.style.background = `linear-gradient(135deg, ${cardColor1}, ${cardColor2})`;
                           });

                           sections.forEach(section => {
                             section.style.background = `linear-gradient(135deg, ${sectionColor1}, ${sectionColor2})`;
                           });

                           sectionHeaders.forEach(header => {
                             header.style.background = `linear-gradient(135deg, ${headerColor1}, ${headerColor2})`;
                           });

                           const textColor = mixWithBlack(colors[1], 40); // Mix color2 with 40% black
                           document.body.style.color = textColor;

                           document.querySelectorAll('.game-title, .game-desc, .subtitle, footer p').forEach(el => {
                             el.style.color = textColor;
                           });
                           subtitleText.style.color = textColor;
                           footerText.style.color = textColor;

                           document.querySelectorAll('.game-title i').forEach(icon => {
                             icon.style.color = textColor;
                           });

                           document.querySelectorAll('.game-title, .game-desc, .subtitle, footer p, h1, .section-header').forEach(el => {
                             el.style.textShadow = `0 0 5px ${glowColor}, 0 0 10px ${glowColor}`;
                           });

                         } else if (avgBrightness > 100) { // Medium-dark gradient
                           const cardColor1 = adjustColorBrightness(colors[0], -10);
                           const cardColor2 = adjustColorBrightness(colors[1], -10);
                           const sectionColor1 = adjustColorBrightness(colors[0], -5);
                           const sectionColor2 = adjustColorBrightness(colors[1], -5);
                           const headerColor1 = adjustColorBrightness(colors[0], -2);
                           const headerColor2 = adjustColorBrightness(colors[1], -2);

                           gameCards.forEach(card => {
                             card.style.background = `linear-gradient(135deg, ${cardColor1}, ${cardColor2})`;
                           });

                           sections.forEach(section => {
                             section.style.background = `linear-gradient(135deg, ${sectionColor1}, ${sectionColor2})`;
                           });

                           sectionHeaders.forEach(header => {
                             header.style.background = `linear-gradient(135deg, ${headerColor1}, ${headerColor2})`;
                           });

                           const textColor = mixWithBlack(colors[1], 20); // Mix color2 with 20% black
                           document.body.style.color = textColor;

                           document.querySelectorAll('.game-title, .game-desc, .subtitle, footer p').forEach(el => {
                             el.style.color = textColor;
                           });
                           subtitleText.style.color = textColor;
                           footerText.style.color = textColor;

                           document.querySelectorAll('.game-title i').forEach(icon => {
                             icon.style.color = textColor;
                           });

                           document.querySelectorAll('.game-title, .game-desc, .subtitle, footer p, h1, .section-header').forEach(el => {
                             el.style.textShadow = `0 0 5px ${glowColor}, 0 0 10px ${glowColor}`;
                           });

                         } else { // Dark gradient
                           // Calculate lighter versions of the specific gradient colors for UI elements
                           const cardColor1 = adjustColorBrightness(colors[0], 20);
                           const cardColor2 = adjustColorBrightness(colors[1], 20);
                           const sectionColor1 = adjustColorBrightness(colors[0], 10);
                           const sectionColor2 = adjustColorBrightness(colors[1], 10);
                           const headerColor1 = adjustColorBrightness(colors[0], 5);
                           const headerColor2 = adjustColorBrightness(colors[1], 5);

                           gameCards.forEach(card => {
                             card.style.background = `linear-gradient(135deg, ${cardColor1}, ${cardColor2})`;
                           });

                           sections.forEach(section => {
                             section.style.background = `linear-gradient(135deg, ${sectionColor1}, ${sectionColor2})`;
                           });

                           sectionHeaders.forEach(header => {
                             header.style.background = `linear-gradient(135deg, ${headerColor1}, ${headerColor2})`;
                           });

                           // Use white text for dark backgrounds
                           document.body.style.color = 'white';

                           document.querySelectorAll('.game-title, .game-desc, .subtitle, footer p').forEach(el => {
                             el.style.color = 'white';
                           });
                           subtitleText.style.color = 'white';
                           footerText.style.color = 'white';

                           mainTitle.classList.remove('gradient-text');
                           mainTitle.classList.remove('dark-text');
                           mainTitle.style.background = 'linear-gradient(to right, #d4afdd, #b19cd9, #9370db)';

                           document.querySelectorAll('.game-title i').forEach(icon => {
                             icon.style.color = '#b19cd9'; // Keep original color or adjust based on avgHex if needed
                           });

                           // Apply subtle glow using the average gradient color
                           document.querySelectorAll('.game-title, .game-desc, .subtitle, footer p, h1, .section-header').forEach(el => {
                             el.style.textShadow = `0 0 5px ${glowColor}, 0 0 10px ${glowColor}`;
                           });
                         }

                         localStorage.setItem('customGradient', JSON.stringify(colors));
                       }

                       function loadSavedGradient() {
                         const saved = localStorage.getItem('customGradient');
                         if (saved) {
                           const colors = JSON.parse(saved);
                           colorInputs[0].value = colors[0];
                           colorInputs[1].value = colors[1];
                           colorInputs[2].value = colors[2];
                           applyGradient(colors);
                           gradientPresets.forEach(preset => {
                             const presetColors = JSON.parse(preset.getAttribute('data-colors'));
                             if (JSON.stringify(presetColors) === JSON.stringify(colors)) {
                               gradientPresets.forEach(p => p.classList.remove('active'));
                               preset.classList.add('active');
                             }
                           });
                         }
                       }

                       gradientPresets.forEach(preset => {
                         preset.addEventListener('click', () => {
                           gradientPresets.forEach(p => p.classList.remove('active'));
                           preset.classList.add('active');
                           const colors = JSON.parse(preset.getAttribute('data-colors'));
                           colorInputs[0].value = colors[0];
                           colorInputs[1].value = colors[1];
                           colorInputs[2].value = colors[2];
                           applyGradient(colors);
                         });
                       });

                       applyBtn.addEventListener('click', () => {
                         const colors = [
                           colorInputs[0].value,
                           colorInputs[1].value,
                           colorInputs[2].value
                         ];
                         gradientPresets.forEach(p => p.classList.remove('active'));
                         applyGradient(colors);
                       });

                       resetBtn.addEventListener('click', () => {
                         const defaultColors = ['#1a0a2e', '#2c0a47', '#1a0a2e'];
                         colorInputs[0].value = defaultColors[0];
                         colorInputs[1].value = defaultColors[1];
                         colorInputs[2].value = defaultColors[2];
                         gradientPresets.forEach(p => p.classList.remove('active'));
                         gradientPresets[0].classList.add('active');
                         applyGradient(defaultColors);
                         localStorage.removeItem('customGradient');
                       });

                       window.addEventListener('load', loadSavedGradient);

                       /* ---------- 8. cloaker ---------- */
                       // Cloak settings
                       const cloakSettings = {
                         title: 'Google Classroom',
                         favicon: 'https://www.google.com/favicon.ico'
                       };

                       // Apply cloaking
                       function applyCloaking(title, favicon) {
                         // Change title
                         document.title = title;
                         // Change favicon
                         const existingFavicon = document.querySelector('link[rel="icon"]');
                         if (existingFavicon) {
                           existingFavicon.href = favicon;
                         } else {
                           const newFavicon = document.createElement('link');
                           newFavicon.rel = 'icon';
                           newFavicon.href = favicon;
                           document.head.appendChild(newFavicon);
                         }
                       }

                       // Apply cloaking on page load
                       window.addEventListener('load', () => {
                         applyCloaking(cloakSettings.title, cloakSettings.favicon);
                       });

                       // Apply custom cloaking when button is clicked
                       document.getElementById('applyCloak').addEventListener('click', () => {
                         const title = document.getElementById('cloakTitle').value;
                         const favicon = document.getElementById('cloakFavicon').value;
                         if(title && favicon) {
                           applyCloaking(title, favicon);
                           alert('Cloak applied successfully!');
                         } else {
                           alert('Please enter both title and favicon URL');
                         }
                       });
      </script>
   </body>
</html>
